{% include 'navbar.html' %}
{% load static %}

{% block content %}
    <main class="container py-4">
        <nav class="mb-4">
            <a href="{% url 'areas_list_user_view' %}" class="text-decoration-none d-inline-block">
                <i class="fas fa-arrow-left me-2" aria-hidden="true"></i>
                Volver a Espacios
            </a>
        </nav>

        <header class="mb-4">
            <h1 class="h2 mb-2">{{ area.name }}</h1>
            <div class="d-flex align-items-center gap-3">
                <address class="text-muted mb-0">
                    <i class="fas fa-map-marker-alt me-1" aria-hidden="true"></i>
                    {{ area.city }}, {{ area.address }}
                </address>
                <div class="d-flex align-items-center">
                    <i class="fas fa-star text-warning me-1" aria-hidden="true"></i>
                    <span>4.5</span>
                </div>
                <span class="text-primary">${{ area.price }} 10 / hora</span>
            </div>
        </header>

        <figure class="mb-4">
            {% if area.images %}
                <img src="{{ area.images.url }}" alt="Vista completa de {{ area.name }}" class="w-100 rounded"
                     style="max-height: 500px; object-fit: cover;">
            {% else %}
                <img src="{% static 'main/img/default-area.jpg' %}" alt="Imagen por defecto del espacio deportivo"
                     class="w-100 rounded" style="max-height: 500px; object-fit: cover;">
            {% endif %}
        </figure>

        <section class="mb-5">
            <h2 class="h4 mb-3">Descripción</h2>
            <p class="text-muted">{{ area.description }}</p>
        </section>

        <section class="mb-5">
            <h2 class="h4 mb-3">Espacios</h2>
            <div class="row g-4">
                {% for space in sport_spaces %}
                    <article class="col-md-6">
                        <div class="bg-light rounded p-4">
                            <h3 class="h5 mb-3">{{ space.name }}</h3>
                            <dl class="d-flex flex-column gap-2 mb-0">
                                <div class="d-flex align-items-center">
                                    <dt class="d-flex align-items-center me-2">
                                        <i class="fas fa-ruler me-2 text-primary" aria-hidden="true"></i>
                                        <span class="visually-hidden">Tamaño:</span>
                                    </dt>
                                    <dd class="mb-0">{{ space.length }}m x {{ space.width }}m</dd>
                                </div>
                                <div class="d-flex align-items-center">
                                    <dt class="d-flex align-items-center me-2">
                                        <i class="fas fa-users me-2 text-primary" aria-hidden="true"></i>
                                        <span class="visually-hidden">Capacidad:</span>
                                    </dt>
                                    <dd class="mb-0">{{ space.recommended_capacity }} personas</dd>
                                </div>
                                <div class="d-flex align-items-center">
                                    <dt class="d-flex align-items-center me-2">
                                        <i class="fas fa-leaf me-2 text-primary" aria-hidden="true"></i>
                                        <span class="visually-hidden">Superficie:</span>
                                    </dt>
                                    <dd class="mb-0">{{ space.surface }}</dd>
                                </div>
                            </dl>
                        </div>
                    </article>
                {% endfor %}
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-primary px-5">Reserva Ahora</button>
            </div>
        </section>

        <section class="mb-5" aria-label="Amenidades">
            <h2 class="h4 mb-3">Amenidades</h2>
            <div class="d-flex gap-3">
                {% if area.has_parking %}
                    <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                <i class="fas fa-parking me-2" aria-hidden="true"></i>
                Estacionamiento
            </span>
                {% endif %}

                {% if area.has_showers %}
                    <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                <i class="fas fa-shower me-2" aria-hidden="true"></i>
                Vestidores
            </span>
                {% endif %}

                {% if area.has_lockers %}
                    <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                <i class="fas fa-lock me-2" aria-hidden="true"></i>
                Casilleros
            </span>
                {% endif %}

                {% if area.has_equipment %}
                    <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                <i class="fas fa-futbol me-2" aria-hidden="true"></i>
                Equipamiento
            </span>
                {% endif %}

                {% for service in additional_services %}
                    <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                <i class="fas fa-futbol me-2" aria-hidden="true"></i>
                {{ service.service.name }}
            </span>
                {% endfor %}
            </div>
        </section>

        <section class="mb-5">
            <h2 class="h4 mb-3">Horarios</h2>
            <div class="bg-light rounded p-4">
                <time class="d-flex align-items-center">
                    <i class="far fa-clock me-2 text-primary" aria-hidden="true"></i>
                    <span>Lunes - Domingo: {{ area.opening_time }} - {{ area.closing_time }}</span>
                </time>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="h4 mb-3">Reseñas</h2>
            <form class="mb-4">
                <div class="border rounded p-3 mb-3">
                    <label for="review-text" class="visually-hidden">Escribe una reseña</label>
                    <textarea id="review-text" class="form-control border-0 mb-3" rows="3"
                              placeholder="Escribe una reseña..."></textarea>
                    <button type="button" class="btn btn-link p-0" aria-label="Añadir imagen">
                        <i class="far fa-image text-primary" aria-hidden="true"></i>
                    </button>
                </div>
            </form>

            <article class="border-bottom pb-4 mb-4">
                <header class="d-flex justify-content-between mb-2">
                    <cite class="fw-bold">Juan P.</cite>
                    <div class="text-warning">
                        <i class="fas fa-star" aria-hidden="true"></i>
                        <span class="ms-1">4.5</span>
                    </div>
                </header>
                <p class="text-muted mb-0">Excelentes Instalaciones muy bien mantenidas.</p>
            </article>

            <article class="border-bottom pb-4 mb-4">
                <header class="d-flex justify-content-between mb-2">
                    <cite class="fw-bold">María L.</cite>
                    <div class="text-warning">
                        <i class="fas fa-star" aria-hidden="true"></i>
                        <span class="ms-1">4.5</span>
                    </div>
                </header>
                <p class="text-muted mb-0">Buena experiencia en general, el estacionamiento es amplio.</p>
            </article>
        </section>

        <footer class="text-center">
            <button class="btn btn-primary px-5">Reserva Ahora</button>
        </footer>
    </main>

    {% include 'footer.html' %}
{% endblock %}